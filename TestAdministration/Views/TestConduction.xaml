<UserControl
    x:Class="TestAdministration.Views.TestConduction"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:ui="http://schemas.lepo.co/wpfui/2022/xaml"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:viewModels="clr-namespace:TestAdministration.ViewModels"
    mc:Ignorable="d"
    d:DataContext="{d:DesignInstance viewModels:TestConductionViewModel}">

    <StackPanel
        Orientation="Horizontal"
        HorizontalAlignment="Center"
        VerticalAlignment="Center">

        <Border Padding="8">
            <StackPanel>
                <!-- TODO: add section value -->
                <ui:TextBlock
                    Margin="0,0,0,16"
                    FontTypography="TitleLarge"
                    Text="Sekce" />

                <!-- TODO: add trial value -->
                <ui:TextBlock
                    Margin="0,0,0,16"
                    FontTypography="TitleLarge"
                    Text="Pokus" />

                <Border
                    Padding="16"
                    CornerRadius="4"
                    BorderThickness="1"
                    BorderBrush="{DynamicResource ControlElevationBorderBrush}">

                    <Grid Height="656">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="*" />
                            <RowDefinition Height="Auto" />
                        </Grid.RowDefinitions>

                        <!-- TODO: add instructions -->

                        <StackPanel Grid.Row="1">
                            <StackPanel Margin="0,0,0,32" Orientation="Horizontal">
                                <StackPanel Margin="0,0,32,0">
                                    <ui:TextBlock Margin="0,0,0,12" Text="Výsledek" />

                                    <!-- TODO: replace placeholder text -->
                                    <ui:TextBox
                                        Width="328"
                                        PlaceholderText="Sekundy"
                                        IsReadOnly="{Binding IsValueReadOnly}"
                                        Text="{
                                            Binding CurrentValue,
                                            UpdateSourceTrigger=PropertyChanged
                                        }" />
                                </StackPanel>

                                <StackPanel Margin="0,0,32,0">
                                    <ui:TextBlock Margin="0,0,0,12" Text="Počet anulování" />

                                    <ui:TextBox
                                        Width="328"
                                        IsReadOnly="True"
                                        Text="{Binding  AnnulationCount}" />
                                </StackPanel>
                            </StackPanel>

                            <StackPanel Margin="0,0,0,32" Orientation="Horizontal">
                                <StackPanel Margin="0,0,32,0">
                                    <ui:TextBlock Margin="0,0,0,12" Text="Poznámky" />
                                    
                                    <ui:TextBox
                                        Width="328" 
                                        PlaceholderText="Text"
                                        Text="{Binding CurrentNote}"/>
                                </StackPanel>

                                <StackPanel>
                                    <ui:TextBlock Margin="0,0,0,12" Text="Nahrávání" />

                                    <StackPanel Orientation="Horizontal">
                                        <ui:SymbolIcon
                                            Margin="0,0,16,0"
                                            VerticalAlignment="Center"
                                            Foreground="#FA1811"
                                            FontSize="32"
                                            Symbol="Record32" />

                                        <ui:SymbolIcon
                                            Margin="0,0,16,0"
                                            VerticalAlignment="Center"
                                            FontSize="24"
                                            Symbol="Pause24" />

                                        <ui:TextBlock
                                            Margin="0,0,16,0"
                                            VerticalAlignment="Center"
                                            Text="Čas" />

                                        <ui:SymbolIcon
                                            Margin="0,0,16,0"
                                            VerticalAlignment="Center"
                                            FontSize="24"
                                            Symbol="MicOff24" />

                                        <ui:SymbolIcon
                                            VerticalAlignment="Center"
                                            FontSize="24"
                                            Symbol="Video24" />
                                    </StackPanel>
                                </StackPanel>
                            </StackPanel>

                            <StackPanel Orientation="Horizontal" HorizontalAlignment="Right">
                                <ui:Button
                                    Margin="0,0,32,0"
                                    Width="136"
                                    Appearance="Primary"
                                    Content="Pokračovat"
                                    Command="{Binding OnAddValue}"/>

                                <ui:Button
                                    Margin="0,0,32,0"
                                    Width="136"
                                    Foreground="{DynamicResource SystemFillColorCriticalBrush}"
                                    Content="Anulovat pokus"
                                    Command="{Binding OnIncrementAnnulations}"/>

                                <ui:Button Width="136" Content="Ukončit testování" />
                            </StackPanel>
                        </StackPanel>
                    </Grid>
                </Border>
            </StackPanel>
        </Border>
        <StackPanel />

        <!-- TODO: add rules -->
    </StackPanel>
</UserControl>